package cyclone.tools.kladrapi.client.poc;

import cyclone.tools.kladrapi.client.KladrApiClient;

import java.util.ArrayList;
import java.util.List;

public class ZipTestApp {


    public static void main(String[] args) {

        // Create bean kladrApiClient, no args needed for kladr-api.ru (free)
        // For kladr-api.com use KladrApiClient(token, key) constructor
        KladrApiClient kladrApiClient = new KladrApiClient();

        // Create bean zipDetailsService and inject kladrApiClient
        ZipDetailsService zipDetailsService = new ZipDetailsServiceImpl(kladrApiClient);


        System.out.println("Started to query details for " + zips.length + " zip codes");

        List<String> failedCodes = new ArrayList<>();
        long start = System.currentTimeMillis();

        // get from file instead
        for (String zip : zips) {
            ZipDetails zipDetails = zipDetailsService.resolveZip(zip);
            // System.out.println(zipDetails);
            if (zipDetails == null) {
                failedCodes.add(zip);
            }
        }

        long delta = System.currentTimeMillis() - start;

        System.out.println("Processed " + zips.length + " zip codes in " + delta / 1000 + " sec with "
                + failedCodes.size() + " errors:");
        failedCodes.forEach(System.out::println);

    }

    private static String[] zips =
            {
                    "674484", "674485", "674490", "674491", "674492", "674494", "674495", "674500",
                    "674501", "674504", "674511", "674515", "674516", "674517", "674518", "674520",
                    "674531", "674532", "674533", "674534", "674535", "674536", "674549", "674550",
                    "674551", "674553", "674554", "674600", "674601", "674602", "674603", "674607",
                    "674608", "674611", "674613", "674614", "674615", "674616", "674617", "674621",
                    "674622", "674623", "674624", "674625", "674627", "674629", "674631", "674632",
                    "674634", "674635", "674636", "674637", "674638", "674640", "674642", "674643",
                    "674644", "674645", "674646", "674647", "674648", "674650", "674651", "674657",
                    "674658", "674660", "674661", "674662", "674666", "674668", "674670", "674673",
                    "674674", "674676", "674677", "674680", "674683", "674684", "674686", "674687",
                    "674688", "674689", "674690", "674693", "674695", "674697", "674698", "675000",
                    "675001", "675002", "675003", "675004", "675004", "675005", "675006", "675007",
                    "675009", "675010", "675011", "675014", "675016", "675018", "675019", "675020",
                    "675021", "675023", "675024", "675025", "675027", "675028", "675029", "675030",
                    "675502", "675503", "675504", "675505", "675511", "675512", "675513", "675520",
                    "675521", "675522", "675525", "675527", "675530", "675700", "675801", "675824",
                    "675828", "675845", "675890", "675900", "675901", "675960", "675961", "675962",
                    "675969", "675971", "675980", "675981", "675982", "675983", "675985", "675997",
                    "675998", "676000", "676005", "676009", "676010", "676011", "676013", "676014",
                    "676015", "676020", "676030", "676050", "676052", "676055", "676058", "676061",
                    "676062", "676063", "676064", "676065", "676066", "676100", "676105", "676110",
                    "676120", "676121", "676124", "676130", "676135", "676140", "676145", "676150",
                    "676151", "676152", "676153", "676154", "676201", "676202", "676203", "676204",
                    "676205", "676210", "676211", "676239", "676240", "676243", "676244", "676246",
                    "676250", "676252", "676253", "676254", "676257", "676260", "676261", "676262",
                    "676263", "676264", "676265", "676266", "676268", "676270", "676271", "676272",
                    "676275", "676278", "676280", "676282", "676283", "676285", "676287", "676290",
                    "676295", "676296", "676297", "676300", "676301", "676306", "676307", "676310",
                    "676320", "676323", "676331", "676332", "676340", "676341", "676343", "676344",
                    "676350", "676351", "676352", "676354", "676355", "676361", "676362", "676363",
                    "676364", "676365", "676366", "676367", "676370", "676372", "676373", "676374",
                    "676376", "676377", "676378", "676380", "676382", "676383", "676385", "676387",
                    "676388", "676401", "676403", "676404", "676405", "676406", "676407", "676411",
                    "676412", "676413", "676415", "676416", "676417", "676418", "676420", "676423",
                    "676431", "676432", "676434", "676435", "676436", "676437", "676438", "676439",
                    "676442", "676450", "676451", "676452", "676454", "676455", "676456", "676459",
                    "676460", "676462", "676467", "676470", "676471", "676490", "676521", "676522",
                    "676523", "676530", "676531", "676537", "676540", "676541", "676542", "676543",
                    "676544", "676546", "676551", "676552", "676553", "676554", "676556", "676557",
                    "676560", "676563", "676564", "676566", "676567", "676570", "676572", "676574",
                    "676576", "676581", "676582", "676610", "676611", "676612", "676614", "676615",
                    "676616", "676618", "676620", "676621", "676622", "676625", "676626", "676627",
                    "676628", "676630", "676631", "676633", "676637", "676638", "676641", "676642",
                    "676644", "676646", "676647", "676670", "676672", "676673", "676675", "676680",
                    "676682", "676683", "676684", "676685", "676686", "676687", "676688", "676691",
                    "676700", "676701", "676711", "676712", "676713", "676714", "676715", "676716",
                    "676717", "676718", "676720", "676722", "676730", "676731", "676735", "676740",
                    "676741", "676742", "676745", "676746", "676747", "676748", "676754", "676756",
                    "676757", "676758", "676761", "676765", "676767", "676770", "676771", "676772",
                    "676776", "676777", "676779", "676780", "676781", "676785", "676790", "676791",
                    "676800", "676802", "676803", "676804", "676805", "676806", "676810", "676811",
                    "676812", "676815", "676821", "676822", "676823", "676830", "676831", "676834",
                    "676835", "676836", "676840", "676845", "676846", "676850", "676852", "676853",
                    "676854", "676855", "676856", "676859", "676860", "676862", "676863", "676864",
                    "676865", "676869", "676870", "676874", "676875", "676881", "676882", "676883",
                    "676885", "676890", "676891", "676892", "676894", "676895", "676896", "676910",
                    "676912", "676920", "676922", "676925", "676930", "676930", "676932", "676933",
                    "676934", "676935", "676936", "676940", "676941", "676942", "676943", "676944",
                    "676945", "676946", "676950", "676952", "676953", "676954", "676955", "676960",
                    "676961", "676962", "676963", "676964", "676965", "676966", "676970", "676971",
                    "676975", "676980", "676982", "676983", "676984", "676985", "676986", "676987",
                    "676988", "676989", "676990", "676991", "676996", "676999", "677000", "677001",
                    "677004", "677005", "677007", "677008", "677009", "677010", "677011", "677013",
                    "677014", "677015", "677016", "677018", "677019", "677021", "677022", "677027",
                    "677901", "677902", "677902", "677903", "677903", "677906", "677906", "677907",
                    "677907", "677911", "677911", "677930", "677935", "677940", "677970", "677980",
                    "678900", "678901", "678902", "678906", "678909", "678915", "678916", "678920",
                    "678926", "678930", "678931", "678940", "678942", "678944", "678946", "678950",
                    "678952", "678953", "678954", "678955", "678956", "678957", "678960", "678962",
                    "678965", "678966", "678967", "678975", "678976", "678980", "678981", "678985",
                    "678988", "678990", "678994", "678995", "678996", "678997", "679000", "679002",
                    "679005", "679006", "679011", "679013", "679014", "679015", "679016", "679017",
                    "679090", "679100", "679102", "679104", "679109", "679110", "679115", "679116",
                    "679120", "679125", "679127", "679130", "679131", "679132", "679135", "679141",
                    "679143", "679144", "679145", "679146", "679150", "679154", "679157", "679158",
                    "679161", "679162", "679170", "679171", "679174", "679175", "679180", "679184",
                    "679185", "679221", "679222", "679234", "679240", "679241", "679243", "679244",
                    "679245", "679246", "679248", "679350", "679355", "679360", "679361", "679362",
                    "679363", "679370", "679372", "679375", "679377", "679378", "679379", "679380",
                    "679381", "679382", "679383", "679384", "679385", "679386", "679387", "679388",
                    "679389", "679502", "679504", "679510", "679511", "679512", "679513", "679515",
                    "679517", "679519", "679520", "679700", "679801", "679950", "680000", "680001",
                    "680002", "680003", "680006", "680007", "680009", "680011", "680012", "680013",
                    "680014", "680015", "680017", "680018", "680020", "680021", "680022", "680023",
                    "680025", "680026", "680028", "680029", "680030", "680031", "680032", "680033",
                    "680035", "680038", "680040", "680041", "680042", "680043", "680045", "680047",
                    "680051", "680052", "680054", "680055", "680057", "680501", "680502", "680504",
                    "680505", "680506", "680507", "680509", "680510", "680511", "680512", "680517",
                    "680518", "680520", "680521", "680524", "680525", "680526", "680527", "680528",
                    "680530", "680533", "680539", "680540", "680547", "680549", "680550", "680551",
                    "680555", "680561", "680562", "680572", "680700", "680801", "680880", "680881",
                    "680890", "680899", "680921", "680922", "680923", "680924", "680925", "680950",
                    "680960", "680961", "680962", "680963", "680964", "680965", "680966", "680967",
                    "680970", "680976", "680999", "681000", "681001", "681003", "681005", "681006",
                    "681007", "681008", "681010", "681013", "681014", "681016", "681017", "681018",
                    "681021", "681022", "681023", "681024", "681025", "681026", "681027", "681029",
                    "681031", "681032", "681034", "681035", "681045", "681046", "681050", "681051",
                    "681053", "681055", "681058", "681060", "681062", "681064", "681066", "681067",
                    "681070", "681071", "681076", "681081", "681085", "681087", "681090", "681091",
                    "681092", "681093", "681095", "681096", "681099", "682030", "682031", "682032",
                    "682036", "682040", "682050", "682065", "682070", "682071", "682073", "682081",
                    "682082", "682086", "682088", "682089", "682090", "682095", "682350", "682352",
                    "682353", "682354", "682355", "682357", "682359", "682360", "682361", "682362",
                    "682364", "682365", "682366", "682370", "682371", "682375", "682380", "682382",
                    "682383", "682384", "682387", "682390", "682391", "682392", "682394", "682400",
                    "682401", "682405", "682406", "682408", "682409", "682410", "682412", "682415",
                    "682416", "682418", "682419", "682420", "682421", "682423", "682424", "682425",
                    "682426", "682427", "682429", "682431", "682432", "682434", "682436", "682440",
                    "682442", "682450", "682454", "682455", "682456", "682459", "682460", "682462",
                    "682469", "682480", "682482", "682484", "682485", "682488", "682489", "682490",
                    "682493", "682494", "682499", "682560", "682562", "682564", "682600", "682601",
                    "682610", "682612", "682613", "682620", "682625", "682636", "682640", "682641",
                    "682643", "682644", "682645", "682647", "682650", "682651", "682652", "682655",
                    "682656", "682707", "682709", "682710", "682711", "682724", "682729", "682730",
                    "682731", "682732", "682734", "682735", "682737", "682738", "682739", "682800",
                    "682801", "682803", "682813", "682817", "682818", "682820", "682825", "682826",
                    "682841", "682843", "682844", "682846", "682848", "682849", "682850", "682851",
                    "682855", "682860", "682861", "682863", "682865", "682866", "682870", "682875",
                    "682880", "682882", "682885", "682890", "682892", "682900", "682901", "682903",
                    "682905", "682906", "682908", "682909", "682910", "682912", "682914", "682915",
                    "682916", "682918", "682919", "682920", "682922", "682923", "682924", "682925",
                    "682927", "682928", "682929", "682930", "682931", "682933", "682935", "682936",
                    "682938", "682939", "682941", "682942", "682944", "682945", "682946", "682947",
                    "682948", "682949", "682950", "682951", "682952", "682955", "682956", "682958",
                    "682959", "682962", "682964", "682965", "682966", "682970", "682971", "682972",
                    "682973", "682975", "682976", "682980", "682981", "682982", "682984", "682990",
                    "682991", "682992", "683000", "683001", "683002", "683003", "683004", "683006",
                    "683007", "683008", "683009", "683010", "683011", "683012", "683013", "683015",
                    "683016", "683017", "683018", "683020", "683021", "683023", "683024", "683030",
                    "683031", "683032", "683038", "683040", "683041", "683042", "683049", "683063",
                    "683901", "683902", "683905", "683970", "683980", "684000", "684004", "684005",
                    "684006", "684007", "684008", "684036", "684090", "684091", "684092", "684093",
                    "685000", "685001", "685002", "685003", "685004", "685005", "685007", "685017",
                    "685021", "685024", "685030", "685031", "685099", "685910", "685916", "685916",
                    "685918", "685918", "685922", "685922", "685930", "685930", "685940", "685940",
                    "685941", "685941", "685942", "685942", "685970", "687000", "687200", "687211",
                    "687212", "687213", "687214", "687215", "687216", "687217", "687218", "687219",
                    "687420", "687432", "687434", "687436", "687450", "687510", "687520", "689000",
                    "689100", "689115", "689120", "689125", "689200", "689201", "689202", "689210",
                    "689215", "689224", "689230", "689235", "689250", "689251", "689271", "689272",
                    "689273", "689274", "689275", "689300", "689310", "689313", "689315", "689320",
                    "689330", "689350", "689360", "689380", "689400", "689415", "689417", "689425",
                    "689430", "689450", "689460", "689465", "689468", "689470", "689480", "689500",
                    "689501", "689503", "689504", "689506", "689510", "690000", "690001", "690002",
                    "690003", "690005", "690006", "690007", "690011", "690012", "690013", "690014",
                    "690016", "690017", "690018", "690019", "690021", "690022", "690024", "690025",
                    "690033", "690034", "690035", "690037", "690039", "690041", "690042", "690048",
                    "690049", "690054", "690059", "690062", "690063", "690065", "690066", "690068",
                    "690069", "690074", "690077", "690078", "690080", "690087", "690088", "690089",
                    "690090", "690091", "690092", "690105", "690106", "690108", "690109", "690110",
                    "690111", "690700", "690880", "690890", "690891", "690899", "690901", "690902",
                    "690908", "690910", "690911", "690912", "690920", "690922", "690950", "690951",
                    "690952", "690953", "690955", "690956", "690957", "690960", "690961", "690962",
                    "690964", "690965", "690966", "690967", "690968", "690969", "690971", "690980",
                    "690981", "690982", "690983", "690985", "690990", "690991", "690992", "690993",
                    "690994", "690995", "692000", "692001", "692010", "692015", "692017", "692020",
                    "692021", "692023", "692025", "692027", "692028", "692030", "692031", "692033",
                    "692036", "692038", "692039", "692040", "692041", "692042", "692047", "692048",
                    "692049", "692050", "692051", "692052", "692053", "692054", "692055", "692057",
                    "692058", "692059", "692081", "692082", "692083", "692085", "692086", "692087",
                    "692088", "692089", "692090", "692091", "692093", "692097", "692098", "692099",
                    "692101", "692102", "692103", "692104", "692105", "692107", "692108", "692109",
                    "692110", "692111", "692112", "692115", "692116", "692117", "692119", "692120",
                    "692121", "692125", "692126", "692127", "692128", "692129", "692130", "692131",
                    "692132", "692133", "692135", "692136", "692138", "692150", "692152", "692160",
                    "692162", "692163", "692164", "692166", "692167", "692168", "692169", "692170",
                    "692171", "692175", "692176", "692177", "692178", "692180", "692181", "692183",
                    "692184", "692186", "692188", "692191", "692192", "692193", "692194", "692200",
                    "692201", "692202", "692204", "692205", "692207", "692211", "692214", "692215",
                    "692216", "692217", "692218", "692219", "692220", "692221", "692224", "692225",
                    "692230", "692231", "692232", "692233", "692236", "692237", "692238", "692238",
                    "692239", "692243", "692245", "692246", "692247", "692248", "692249", "692250",
                    "692251", "692252", "692254", "692258", "692261", "692262", "692263", "692264",
                    "692265", "692266", "692267", "692269", "692270", "692271", "692273", "692274",
                    "692275", "692276", "692277", "692278", "692300", "692310", "692311", "692312",
                    "692319", "692320", "692322", "692327", "692330", "692331", "692335", "692337",
                    "692338", "692340", "692342", "692343", "692344", "692345", "692346", "692347",
                    "692348", "692350", "692352", "692353", "692360", "692361", "692366", "692368",
                    "692369", "692370", "692372", "692373", "692375", "692376", "692377", "692380",
                    "692381", "692385", "692386", "692387", "692390", "692391", "692393", "692394",
                    "692395", "692397", "692398", "692399", "692400", "692401", "692405", "692406",
                    "692410", "692411", "692412", "692413", "692416", "692417", "692419", "692421",
                    "692422", "692425", "692426", "692428", "692429", "692434", "692435", "692436",
                    "692437", "692438", "692440", "692441", "692442", "692443", "692446", "692448",
                    "692451", "692452", "692454", "692455", "692458", "692459", "692460", "692461",
                    "692480", "692481", "692485", "692486", "692488", "692490", "692491", "692493",
                    "692494", "692495", "692496", "692500", "692501", "692502", "692503", "692506",
                    "692508", "692509", "692510", "692511", "692512", "692515", "692519", "692522",
                    "692523", "692524", "692525", "692526", "692527", "692528", "692529", "692530",
                    "692532", "692532", "692533", "692534", "692537", "692538", "692539", "692541",
                    "692542", "692543", "692544", "692545", "692546", "692548", "692549", "692550",
                    "692551", "692552", "692553", "692554", "692555", "692557", "692558", "692559",
                    "692560", "692561", "692564", "692565", "692567", "692568", "692570", "692571",
                    "692572", "692573", "692574", "692575", "692577", "692578", "692579", "692580",
                    "692581", "692582", "692583", "692584", "692585", "692586", "692587", "692588",
                    "692589", "692590", "692591", "692593", "692598", "692601", "692602", "692603",
                    "692604", "692605", "692607", "692608", "692609", "692610", "692611", "692613",
                    "692614", "692615", "692616", "692617", "692618", "692619", "692620", "692621",
                    "692623", "692640", "692641", "692642", "692643", "692650", "692651", "692655",
                    "692656", "692657", "692658", "692659", "692662", "692663", "692664", "692665",
                    "692666", "692667", "692669", "692671", "692672", "692673", "692674", "692676",
                    "692677", "692678", "692679", "692680", "692682", "692683", "692684", "692687",
                    "692688", "692690", "692691", "692692", "692693", "692695", "692696", "692700",
                    "692701", "692705", "692707", "692710", "692711", "692713", "692715", "692719",
                    "692720", "692721", "692723", "692724", "692725", "692726", "692730", "692735",
                    "692750", "692751", "692753", "692754", "692756", "692759", "692760", "692764",
                    "692766", "692767", "692768", "692769", "692770", "692771", "692774", "692775",
                    "692777", "692778", "692779", "692800", "692801", "692802", "692803", "692804",
                    "692806", "692809", "692812", "692813", "692814", "692815", "692821", "692824",
                    "692828", "692830", "692831", "692840", "692841", "692844", "692847", "692850",
                    "692851", "692852", "692853", "692854", "692856", "692858", "692860", "692861",
                    "692864", "692867", "692868", "692869", "692870", "692871", "692874", "692875",
                    "692877", "692880", "692881", "692890", "692891", "692900", "692901", "692902",
                    "692903", "692904", "692905", "692906", "692909", "692910", "692911", "692913",
                    "692914", "692916", "692917", "692918", "692919", "692920", "692921", "692922",
                    "692923", "692924", "692926", "692928", "692929", "692930", "692939", "692940",
                    "692941", "692943", "692952", "692953", "692954", "692955", "692956", "692960",
                    "692962", "692965", "692968", "692970", "692971", "692974", "692975", "692976",
                    "692977", "692980", "692990", "692991", "692992", "692994", "692995", "692998",
                    "693000", "693001", "693003", "693004", "693005", "693006", "693007", "693008",
                    "693009", "693010", "693011", "693012", "693013", "693014", "693017", "693019",
                    "693020", "693021", "693022", "693023", "693901", "693902", "693903", "693904",
                    "694002", "694003", "694005", "694006", "694007", "694009", "694010", "694011",
                    "694015", "694020", "694021", "694023", "694025", "694030", "694033", "694036",
                    "694045", "694046", "694047", "694048", "694050", "694051", "694052", "694060",
                    "694061", "694062", "694071", "694072", "694080", "694090", "694120", "694140",
                    "694150", "694160", "694201", "694202", "694210", "694211", "694222", "694225",
                    "694230", "694240", "694241", "694242", "694320", "694346", "694350", "694360",
                    "694370", "694380", "694390", "694400", "694403", "694404", "694405", "694406",
                    "694408", "694411", "694412", "694413", "694415", "694417", "694419", "694420",
                    "694424", "694431", "694433", "694434", "694440", "694445", "694446", "694448",
                    "694450", "694452", "694454", "694455", "694458", "694463", "694468", "694469",
                    "694471", "694472", "694480", "694490", "694494", "694496", "694600", "694610",
                    "694615", "694620", "694626", "694627", "694630", "694640", "694650", "694670",
                    "694680", "694730", "694740", "694741", "694742", "694745", "694752", "694760",
                    "694761", "694800", "694810", "694820", "694830", "694831", "694840", "694851",
                    "694855", "694901", "694902", "694903", "694905", "694908", "694910", "694912",
                    "694913", "694914", "694916", "694920", "694923"};
}
